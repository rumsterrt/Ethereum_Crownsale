{"metadata":{"usedHelpers":["inherits","possibleConstructorReturn","classCallCheck","interopRequireDefault"],"marked":[],"modules":{"imports":[{"source":"react","imported":["default","Component","PropTypes"],"specifiers":[{"kind":"named","imported":"default","local":"React"},{"kind":"named","imported":"Component","local":"Component"},{"kind":"named","imported":"PropTypes","local":"PropTypes"}]},{"source":"../lib/web3","imported":["web3"],"specifiers":[{"kind":"named","imported":"web3","local":"web3"}]}],"exports":{"exported":["RegistrationPanel"],"specifiers":[{"kind":"local","local":"RegistrationPanel","exported":"default"}]}}},"options":{"filename":"imports/ui/RegistrationPanel.jsx","filenameRelative":"imports/ui/RegistrationPanel.jsx","env":{"development":{"plugins":[]}},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"generateLetDeclarations":true,"enforceStrictMode":false}],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":true,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"imports/ui/RegistrationPanel.jsx.map","sourceFileName":"imports/ui/RegistrationPanel.jsx","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"parserOpts":false,"generatorOpts":false,"basename":"RegistrationPanel"},"ignored":false,"code":"var _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nmodule.export({\n    \"default\": function () {\n        return RegistrationPanel;\n    }\n});\nvar React = void 0,\n    Component = void 0,\n    PropTypes = void 0;\nmodule.watch(require(\"react\"), {\n    \"default\": function (v) {\n        React = v;\n    },\n    Component: function (v) {\n        Component = v;\n    },\n    PropTypes: function (v) {\n        PropTypes = v;\n    }\n}, 0);\nvar web3 = void 0;\nmodule.watch(require(\"../lib/web3\"), {\n    web3: function (v) {\n        web3 = v;\n    }\n}, 1);\n\nvar RegistrationPanel = function (_Component) {\n    (0, _inherits3.default)(RegistrationPanel, _Component);\n\n    function RegistrationPanel(props) {\n        (0, _classCallCheck3.default)(this, RegistrationPanel);\n\n        var _this = (0, _possibleConstructorReturn3.default)(this, _Component.call(this, props));\n\n        _this.isRendered = false;\n        _this.state = {\n            balance: web3.eth.getBalance(web3.eth.defaultAccount)\n        };\n        _this.updateBalance = setInterval(function () {\n            var newBalance = web3.eth.getBalance(web3.eth.defaultAccount);\n\n            if (this.state.balance.equals(newBalance)) {\n                return;\n            }\n\n            this.setState({\n                balance: newBalance\n            });\n        }.bind(_this), 1000);\n        return _this;\n    }\n\n    RegistrationPanel.prototype.render = function () {\n        function render() {\n            return React.createElement(\n                \"div\",\n                {\n                    className: \"panel\",\n                    ref: \"panel\"\n                },\n                React.createElement(\n                    \"div\",\n                    {\n                        className: \"panel-body\"\n                    },\n                    React.createElement(\n                        \"h1\",\n                        null,\n                        \"Current account\"\n                    ),\n                    React.createElement(\n                        \"p\",\n                        null,\n                        this.renderAccountSelector(),\n                        \" \",\n                        React.createElement(\n                            \"button\",\n                            {\n                                onClick: this.handleUnlock.bind(this)\n                            },\n                            \"Unlock\"\n                        )\n                    ),\n                    React.createElement(\n                        \"p\",\n                        null,\n                        this.state.balance.toString(),\n                        \" ether\"\n                    )\n                )\n            );\n        }\n\n        return render;\n    }();\n\n    RegistrationPanel.prototype.renderAccountSelector = function () {\n        function renderAccountSelector() {\n            var transSelector = web3.eth.accounts.map(function (trans) {\n                return React.createElement(\n                    \"option\",\n                    {\n                        value: trans\n                    },\n                    trans\n                );\n            });\n            return React.createElement(\n                \"select\",\n                {\n                    type: \"accountOption\",\n                    ref: \"accountSelector\",\n                    onChange: this.handleEnter.bind(this)\n                },\n                transSelector\n            );\n        }\n\n        return renderAccountSelector;\n    }();\n\n    RegistrationPanel.prototype.handleEnter = function () {\n        function handleEnter() {\n            web3.eth.defaultAccount = web3.eth.accounts[this.refs.accountSelector.value];\n            this.forceUpdate();\n        }\n\n        return handleEnter;\n    }();\n\n    RegistrationPanel.prototype.handleUnlock = function () {\n        function handleUnlock() {}\n\n        return handleUnlock;\n    }();\n\n    return RegistrationPanel;\n}(Component);\n\nRegistrationPanel.propTypes = {};","map":{"version":3,"sources":["imports/ui/RegistrationPanel.jsx"],"names":["module","export","RegistrationPanel","React","Component","PropTypes","watch","require","v","web3","props","isRendered","state","balance","eth","getBalance","defaultAccount","updateBalance","setInterval","newBalance","equals","setState","bind","render","renderAccountSelector","handleUnlock","toString","transSelector","accounts","map","trans","handleEnter","refs","accountSelector","value","forceUpdate","propTypes"],"mappings":";;;;;;;;;;;;;;AAAAA,OAAOC,MAAP,CAAc;AAAC,eAAQ;AAAA,eAAIC,iBAAJ;AAAA;AAAT,CAAd;AAA+C,IAAIC,cAAJ;AAAA,IAAUC,kBAAV;AAAA,IAAoBC,kBAApB;AAA8BL,OAAOM,KAAP,CAAaC,QAAQ,OAAR,CAAb,EAA8B;AAAA,yBAASC,CAAT,EAAW;AAACL,gBAAMK,CAAN;AAAQ,KAApB;AAAqBJ,aAArB,YAA+BI,CAA/B,EAAiC;AAACJ,oBAAUI,CAAV;AAAY,KAA9C;AAA+CH,aAA/C,YAAyDG,CAAzD,EAA2D;AAACH,oBAAUG,CAAV;AAAY;AAAxE,CAA9B,EAAwG,CAAxG;AAA2G,IAAIC,aAAJ;AAAST,OAAOM,KAAP,CAAaC,QAAQ,aAAR,CAAb,EAAoC;AAACE,QAAD,YAAMD,CAAN,EAAQ;AAACC,eAAKD,CAAL;AAAO;AAAhB,CAApC,EAAsD,CAAtD;;IAG5KN,iB;;;AACjB,+BAAYQ,KAAZ,EAAmB;AAAA;;AAAA,mEACf,sBAAMA,KAAN,CADe;;AAGf,cAAKC,UAAL,GAAkB,KAAlB;AAEA,cAAKC,KAAL,GAAa;AACTC,qBAASJ,KAAKK,GAAL,CAASC,UAAT,CAAoBN,KAAKK,GAAL,CAASE,cAA7B;AADA,SAAb;AAGA,cAAKC,aAAL,GAAqBC,YAAY,YAAY;AACzC,gBAAIC,aAAaV,KAAKK,GAAL,CAASC,UAAT,CAAoBN,KAAKK,GAAL,CAASE,cAA7B,CAAjB;;AACA,gBAAI,KAAKJ,KAAL,CAAWC,OAAX,CAAmBO,MAAnB,CAA0BD,UAA1B,CAAJ,EAA2C;AACvC;AACH;;AACD,iBAAKE,QAAL,CAAc;AACVR,yBAASM;AADC,aAAd;AAGH,SARgC,CAQ/BG,IAR+B,OAAZ,EAQP,IARO,CAArB;AARe;AAiBlB;;gCAEDC,M;0BAAS;AACL,mBACI;AAAA;AAAA;AAAK,+BAAU,OAAf;AAAuB,yBAAI;AAA3B;AACI;AAAA;AAAA;AAAK,mCAAU;AAAf;AACI;AAAA;AAAA;AAAA;AAAA,qBADJ;AAEI;AAAA;AAAA;AAAI,6BAAKC,qBAAL,EAAJ;AAAA;AAAkC;AAAA;AAAA;AAAQ,yCAAS,KAAKC,YAAL,CAAkBH,IAAlB,CAAuB,IAAvB;AAAjB;AAAA;AAAA;AAAlC,qBAFJ;AAGI;AAAA;AAAA;AAAI,6BAAKV,KAAL,CAAWC,OAAX,CAAmBa,QAAnB,EAAJ;AAAA;AAAA;AAHJ;AADJ,aADJ;AASH;;;;;gCAEDF,qB;yCAAwB;AACpB,gBAAIG,gBAAgBlB,KAAKK,GAAL,CAASc,QAAT,CAAkBC,GAAlB,CAAsB,UAACC,KAAD;AAAA,uBACtC;AAAA;AAAA;AAAQ,+BAAOA;AAAf;AAAuBA;AAAvB,iBADsC;AAAA,aAAtB,CAApB;AAGA,mBACI;AAAA;AAAA;AAAQ,0BAAK,eAAb;AAA6B,yBAAI,iBAAjC;AAAmD,8BAAU,KAAKC,WAAL,CAAiBT,IAAjB,CAAsB,IAAtB;AAA7D;AACKK;AADL,aADJ;AAKH;;;;;gCAEDI,W;+BAAa;AACTtB,iBAAKK,GAAL,CAASE,cAAT,GAA0BP,KAAKK,GAAL,CAASc,QAAT,CAAkB,KAAKI,IAAL,CAAUC,eAAV,CAA0BC,KAA5C,CAA1B;AACA,iBAAKC,WAAL;AACH;;;;;gCAEDV,Y;gCAAc,CAEb;;;;;;EAlD0CrB,S;;AAqD/CF,kBAAkBkC,SAAlB,GAA8B,EAA9B","file":"imports/ui/RegistrationPanel.jsx.map","sourcesContent":["import React, { Component, PropTypes } from 'react';\r\nimport { web3 } from '../lib/web3';\r\n\r\nexport default class RegistrationPanel extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.isRendered = false;\r\n\r\n        this.state = {\r\n            balance: web3.eth.getBalance(web3.eth.defaultAccount),\r\n        };\r\n        this.updateBalance = setInterval(function () {\r\n            let newBalance = web3.eth.getBalance(web3.eth.defaultAccount);\r\n            if (this.state.balance.equals(newBalance)) {\r\n                return;\r\n            }\r\n            this.setState({\r\n                balance: newBalance,\r\n            });\r\n        }.bind(this), 1000);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"panel\" ref=\"panel\">\r\n                <div className=\"panel-body\">\r\n                    <h1>Current account</h1>\r\n                    <p>{this.renderAccountSelector()} <button onClick={this.handleUnlock.bind(this)}>Unlock</button></p>\r\n                    <p>{this.state.balance.toString()} ether</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    renderAccountSelector() {\r\n        let transSelector = web3.eth.accounts.map((trans) => (\r\n            <option value={trans}>{trans}</option>\r\n        ));\r\n        return (\r\n            <select type=\"accountOption\" ref=\"accountSelector\" onChange={this.handleEnter.bind(this)}>\r\n                {transSelector}\r\n            </select>\r\n        );\r\n    }\r\n\r\n    handleEnter(){\r\n        web3.eth.defaultAccount = web3.eth.accounts[this.refs.accountSelector.value];\r\n        this.forceUpdate();\r\n    }\r\n\r\n    handleUnlock(){\r\n        \r\n    }\r\n}\r\n\r\nRegistrationPanel.propTypes = {\r\n};"]},"hash":"f4e9e57dfc7f128a56e8e9de0209b3b0bc30ff94"}
