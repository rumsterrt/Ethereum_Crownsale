[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\nvar _ = Package.underscore._;\nvar Template = Package['templating-runtime'].Template;\nvar $ = Package.jquery.$;\nvar jQuery = Package.jquery.jQuery;\nvar Blaze = Package.blaze.Blaze;\nvar UI = Package.blaze.UI;\nvar Handlebars = Package.blaze.Handlebars;\nvar Spacebars = Package.spacebars.Spacebars;\nvar HTML = Package.htmljs.HTML;\n\n(function(){\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                    //\n// packages/frozeman_animation-helper/packages/frozeman_animation-helper.js                                           //\n//                                                                                                                    //\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                      //\n(function () {                                                                                                        // 1\n                                                                                                                      // 2\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////     // 3\n//                                                                                                             //     // 4\n// packages/frozeman:animation-helper/template.animation-helper.js                                             //     // 5\n//                                                                                                             //     // 6\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////     // 7\n                                                                                                               //     // 8\n                                                                                                               // 1   // 9\nTemplate.__checkName(\"Animate\");                                                                               // 2   // 10\nTemplate[\"Animate\"] = new Template(\"Template.Animate\", (function() {                                           // 3   // 11\n  var view = this;                                                                                             // 4   // 12\n  return Blaze._InOuterTemplateScope(view, function() {                                                        // 5   // 13\n    return Spacebars.include(function() {                                                                      // 6   // 14\n      return Spacebars.call(view.templateContentBlock);                                                        // 7   // 15\n    });                                                                                                        // 8   // 16\n  });                                                                                                          // 9   // 17\n}));                                                                                                           // 10  // 18\n                                                                                                               // 11  // 19\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////     // 20\n                                                                                                                      // 21\n}).call(this);                                                                                                        // 22\n                                                                                                                      // 23\n                                                                                                                      // 24\n                                                                                                                      // 25\n                                                                                                                      // 26\n                                                                                                                      // 27\n                                                                                                                      // 28\n(function () {                                                                                                        // 29\n                                                                                                                      // 30\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////     // 31\n//                                                                                                             //     // 32\n// packages/frozeman:animation-helper/animation-helper.js                                                      //     // 33\n//                                                                                                             //     // 34\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////     // 35\n                                                                                                               //     // 36\n/**                                                                                                            // 1   // 37\nAniamtion-Helper                                                                                               // 2   // 38\n                                                                                                               // 3   // 39\n@module package animation-helper                                                                               // 4   // 40\n**/                                                                                                            // 5   // 41\n                                                                                                               // 6   // 42\n                                                                                                               // 7   // 43\n/**                                                                                                            // 8   // 44\nCheck if the animation element has a animation set                                                             // 9   // 45\n                                                                                                               // 10  // 46\n@method checkForError                                                                                          // 11  // 47\n@return {Boolean} true, when an error was detected                                                             // 12  // 48\n*/                                                                                                             // 13  // 49\nvar checkForError = function($node){                                                                           // 14  // 50\n                                                                                                               // 15  // 51\n    if($node.css('transition') === 'all 0s ease 0s' && $node.css('animation') === 'none 0s ease 0s 1 normal none running') {\n        console.warn('animation-helper error: The following element has no transition defined, but an \"animate\" class:', $node[0]);\n        return true;                                                                                           // 18  // 54\n    } else                                                                                                     // 19  // 55\n        return false;                                                                                          // 20  // 56\n};                                                                                                             // 21  // 57\n                                                                                                               // 22  // 58\n                                                                                                               // 23  // 59\nTemplate['Animate'].rendered = function(){                                                                     // 24  // 60\n    var template = this;                                                                                       // 25  // 61\n    // template._animation_helper_animationElements = this.findAll('.animate');                                // 26  // 62\n                                                                                                               // 27  // 63\n                                                                                                               // 28  // 64\n    // HACK: initial animation rendered, as insertElement, doesn't fire as the rendered callback happended after the first insert\n    _.each(this.findAll('.animate'), function(item){                                                           // 30  // 66\n        var $item = $(item);                                                                                   // 31  // 67\n                                                                                                               // 32  // 68\n        // check if the element has a transition                                                               // 33  // 69\n        if(checkForError($item))                                                                               // 34  // 70\n            return;                                                                                            // 35  // 71\n                                                                                                               // 36  // 72\n        $item.width(); // force-draw before animation                                                          // 37  // 73\n        $item.removeClass('animate');                                                                          // 38  // 74\n                                                                                                               // 39  // 75\n        // console.log('rendered', item, item._animation_helper_isVisible);                                    // 40  // 76\n                                                                                                               // 41  // 77\n        $item.on('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionEnd msTransitionEnd animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd animationEnd msAnimationEnd', function(e) {\n            if (e.target === item) {                                                                           // 43  // 79\n                $item.off(e);                                                                                  // 44  // 80\n                item._animation_helper_isVisible = true;                                                       // 45  // 81\n            }                                                                                                  // 46  // 82\n        });                                                                                                    // 47  // 83\n    });                                                                                                        // 48  // 84\n                                                                                                               // 49  // 85\n                                                                                                               // 50  // 86\n    // add the parentNode te the instance, so we can access it in the destroyed function                       // 51  // 87\n    template._animation_helper_parentNode = this.firstNode.parentNode;                                         // 52  // 88\n                                                                                                               // 53  // 89\n    template._animation_helper_parentNode._uihooks = {                                                         // 54  // 90\n        insertElement: function (node, next) {                                                                 // 55  // 91\n            var $node = $(node);                                                                               // 56  // 92\n                                                                                                               // 57  // 93\n            $node.insertBefore(next);                                                                          // 58  // 94\n                                                                                                               // 59  // 95\n            // console.log('inserted', node, node._animation_helper_isVisible);                                // 60  // 96\n                                                                                                               // 61  // 97\n            if($node.hasClass('animate') && !checkForError($node)) {                                           // 62  // 98\n                                                                                                               // 63  // 99\n                                                                                                               // 64  // 100\n                                                                                                               // 65  // 101\n                // add to animation elements array                                                             // 66  // 102\n                // if(!_.contains(template._animation_helper_animationElements, node))                         // 67  // 103\n                //     template._animation_helper_animationElements.push(node);                                // 68  // 104\n                                                                                                               // 69  // 105\n                                                                                                               // 70  // 106\n                // animate                                                                                     // 71  // 107\n                $node.width(); // force-draw before animation                                                  // 72  // 108\n                $node.removeClass('animate');                                                                  // 73  // 109\n                                                                                                               // 74  // 110\n                $node.on('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionEnd msTransitionEnd animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd animationEnd msAnimationEnd', function(e) {\n                    if (e.target === node) {                                                                   // 76  // 112\n                        $node.off(e);                                                                          // 77  // 113\n                        node._animation_helper_isVisible = true;                                               // 78  // 114\n                    }                                                                                          // 79  // 115\n                });                                                                                            // 80  // 116\n            }                                                                                                  // 81  // 117\n                                                                                                               // 82  // 118\n        },                                                                                                     // 83  // 119\n        removeElement: function (node) {                                                                       // 84  // 120\n            var $node = $(node);                                                                               // 85  // 121\n                // indexOfElement = _.indexOf(template._animation_helper_animationElements, node);             // 86  // 122\n                                                                                                               // 87  // 123\n            // console.log('removed',node, node._animation_helper_isVisible);                                  // 88  // 124\n                                                                                                               // 89  // 125\n            if(node._animation_helper_isVisible) { //&& !$node.hasClass('animate') //indexOfElement !== -1 &&  // 90  // 126\n                                                                                                               // 91  // 127\n                // add timeout in case the element wasn't removed                                              // 92  // 128\n                var timeoutId;                                                                                 // 93  // 129\n                if(Meteor.isClient) {                                                                          // 94  // 130\n                    timeoutId = Meteor.setTimeout(function(){                                                  // 95  // 131\n                        $node.remove();                                                                        // 96  // 132\n                        $node = null;                                                                          // 97  // 133\n                    }, 5000);                                                                                  // 98  // 134\n                }                                                                                              // 99  // 135\n                                                                                                               // 100\n                // remove from animation elements array                                                        // 101\n                // delete template._animationElements[indexOfElement];                                         // 102\n                $node.on('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd transitionEnd msTransitionEnd animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd animationEnd msAnimationEnd', function(e) {\n                    if (e.target === node) {                                                                   // 104\n                        $node.off(e);                                                                          // 105\n                                                                                                               // 106\n                        Meteor.clearTimeout(timeoutId);                                                        // 107\n                                                                                                               // 108\n                        delete node._animation_helper_isVisible;                                               // 109\n                        $node.remove();                                                                        // 110\n                        $node = null;                                                                          // 111\n                    }                                                                                          // 112\n                                                                                                               // 113\n                });                                                                                            // 114\n                $node.addClass('animate').width();                                                             // 115\n                                                                                                               // 116\n            // otherwise remove immedediately                                                                  // 117\n            } else {                                                                                           // 118\n                $node.remove();                                                                                // 119\n                $node = null;                                                                                  // 120\n            }                                                                                                  // 121\n                                                                                                               // 122\n        }                                                                                                      // 123\n    };                                                                                                         // 124\n};                                                                                                             // 125\n                                                                                                               // 126\nTemplate['Animate'].destroyed = function(){                                                                    // 127\n    var template = this;                                                                                       // 128\n                                                                                                               // 129\n    if(Meteor.isClient && template._animation_helper_parentNode) {                                             // 130\n        Tracker.afterFlush(function(){                                                                         // 131\n            template._animation_helper_parentNode._uihooks = null;                                             // 132\n        });                                                                                                    // 133\n    }                                                                                                          // 134\n};                                                                                                             // 135\n                                                                                                               // 136\n                                                                                                               // 137\n/**                                                                                                            // 138\nThe destroyed method, which remove the hooks to make sure, they work again next time.                          // 139\n                                                                                                               // 140\n*/                                                                                                             // 141\n// Template['Animate'].destroyed = function(){                                                                 // 142\n//     var template = this;                                                                                    // 143\n//     // Meteor.defer(function(){                                                                             // 144\n//         template._animation_helper_firstNode.parentNode._uihooks = null;                                    // 145\n//     // });                                                                                                  // 146\n                                                                                                               // 147\n// };                                                                                                          // 148\n                                                                                                               // 149\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////     // 186\n                                                                                                                      // 187\n}).call(this);                                                                                                        // 188\n                                                                                                                      // 189\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n/* Exports */\nif (typeof Package === 'undefined') Package = {};\nPackage['frozeman:animation-helper'] = {};\n\n})();\n","servePath":"/packages/frozeman_animation-helper.js"}]